<!DOCTYPE html>
<head>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PPZPQ6');</script>
  <!-- End Google Tag Manager -->
    <title>Exercise 4.1: Creating a Tower Job Template</title>
  

  <meta charset="utf-8">
  <!-- Twitter Bootstrap viewport setting -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- F5 metadata -->
  <meta name="title" content="Exercise 4.1: Creating a Tower Job Template"/>
  <meta name="product" content="F5 Solutions for Containers"/>
  <meta name="version" content=""/>
  <meta name="updated_date"  content="2020-02-26 07:28:24"/>
  <meta name="archived" content="Archived documents excluded"/>
  <meta name="doc_type" content="Manual"/>
  <meta name="lifecycle" content="release"/>
  <meta name="F5 Solutions for Containers" content=""/>


  

  
  <link href="https://cdn.f5.com/favicon.ico" rel="icon">

</head>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Exercise 4.1: Creating a Tower Job Template &#8212; F5 Solutions for Containers  documentation</title>
    <link rel="stylesheet" href="../../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/f5_agility_theme.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/f5.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/f5-theme.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/CoveoFullSearch.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/21fb8a09c3.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Exercise 4.2: Creating a Workflow" href="../4.2-tower-workflow/4.2-tower-workflow.html" />
    <link rel="prev" title="Exercise 4.0: Explore Red Hat Ansible Tower" href="../4.0-explore-tower/4.0-explore-tower.html" /> 
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="sidebar" class="section-nav">
      
      <!--  version selector ------------------>
      <div id="version_selector_wrapper">
      </div>
      <nav class="nav-sidebartoc">

        
         <h5>F5 Solutions for Containers  </h5>
        

        <hr>
        <span class="nav-sidebartoc">
            <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../class01/class01.html">Class 1: Programmability - Introduction to BIG-IP Rest Structure and Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../class02/class02.html">Class 2: A&amp;O Toolchain 111: BIG-IP Deployments with Declarative Onboarding (DO)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../class03/class03.html">Class 3: Application Deployments with BIG-IP and Application Services (AS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../class04/class04.html">Class 4: A&amp;O Tool Chain - BIG-IP Service Analytics and Metrics with Telemetry Streaming (TS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../class05/class05.html">Class 5: A&amp;O Tool Chain - Advanced Design Patterns with AS3, DO and TS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../class06/class06.html">Class 6: Programmability - CI/CD Process Integration with BIG-IP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../class07/class07.html">Class 7: Dude Where's My Services: Introduction to Service Discovery with Consul</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../class08/class08.html">Class 8: Containers - Kubernetes &amp; OpenShift Integration with BIG-IP</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../class09.html">Class 9: Basic BIG-IP Configuration Management with Ansible</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../class10/class10.html">Class 10: Advanced BIG-IP Configuration Management with Ansible</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../class11/class11.html">Class 11: 101 of Terraform BIG-IP Provider</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../class12/class12.html">Class 12: Cisco ACI Integration with BIG-IP</a></li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>


    <div id="right-sidebar">
      <h7 style="font-weight:normal">On this page:</h7>
      <nav class="nav-sidebartoc">
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">Exercise 4.1: Creating a Tower Job Template</a><ul>
<li><a class="reference internal" href="#objective">Objective</a></li>
<li><a class="reference internal" href="#guide">Guide</a><ul>
<li><a class="reference internal" href="#step-1-create-a-credential">Step 1: Create a Credential</a></li>
<li><a class="reference internal" href="#step-2-migrate-an-inventory">Step 2: Migrate an Inventory</a></li>
<li><a class="reference internal" href="#step-3-create-a-project">Step 3: Create a Project</a></li>
<li><a class="reference internal" href="#step-4-create-a-job-template">Step 4: Create a Job Template</a></li>
<li><a class="reference internal" href="#step-5-launch-the-job-template">Step 5: Launch the Job Template</a></li>
<li><a class="reference internal" href="#step-6-examine-the-job-details-view">Step 6: Examine the Job Details View</a></li>
<li><a class="reference internal" href="#step-7-examine-the-jobs-window">Step 7: Examine the Jobs window</a></li>
<li><a class="reference internal" href="#step-8-verify-the-big-ip-virtual-server-was-created">Step 8: Verify the BIG-IP Virtual Server was created</a></li>
<li><a class="reference internal" href="#step-9-verifying-the-web-servers">Step 9: Verifying the web servers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#takeaways">Takeaways</a></li>
<li><a class="reference internal" href="#complete">Complete</a></li>
</ul>
</li>
</ul>

         </span>
      </nav>
    </div>





  
  <div class="main active" id="content" >
    <article class="docs-container site-article-inner">
              <!-- custom breadcrumb -->
        <h5>
            <a href="../../../index.html">F5 Solutions for Containers</a>
              &gt; <a href="../../class09.html">Class 9: Basic BIG-IP Configuration Management with Ansible</a>
              &gt; <a href="../module4.html">Section 4 - Ansible Tower F5 Exercises</a>

          <span class="right">
             <a href="../../../_sources/class09/module4/4.1-tower-job-template/4.1-tower-job-template.rst.txt" rel="nofollow">Source</a> |
          </span>
        </h5>
        <!-- end custom breadcrumb -->
      


    <!--a title="Export PDF" id="export-pdf" class="btn btn btn-link pull-right">View PDF</a-->
    <button type="button" id="export-pdf" class="btn btn-link right">PDF</button>


    
     
         <div class="sidebar" id="version-warning" style="display: none;">
           <p class="first sidebar-title">
           <span class="icon fa fa-info-circle fa-lg"></span> Version notice:</p>
           <p class="last" id="currentVersion"></p>
          </div>


     <div role="main">
        
  <div class="section" id="exercise-4-1-creating-a-tower-job-template">
<span id="tower-job-template"></span><h1>Exercise 4.1: Creating a Tower Job Template<a class="headerlink" href="#exercise-4-1-creating-a-tower-job-template" title="Permalink to this headline">¶</a></h1>
<div class="section" id="objective">
<h2>Objective<a class="headerlink" href="#objective" title="Permalink to this headline">¶</a></h2>
<p>Demonstrate a BIG-IP Virtual Server configuration job template for Red
Hat Ansible Tower. This job template will create a virtual server, a
pool, and add two web servers to the pool .</p>
<p>To run an Ansible Playbook in Ansible Tower, we need to create a <strong>Job
Template</strong>. A <strong>Job Template</strong> requires: - A <strong>Credential</strong> to login to
devices. - An <strong>Inventory</strong> to run the job against - A <strong>Project</strong> which
contains Ansible Playbooks</p>
</div>
<div class="section" id="guide">
<h2>Guide<a class="headerlink" href="#guide" title="Permalink to this headline">¶</a></h2>
<div class="section" id="step-1-create-a-credential">
<h3>Step 1: Create a Credential<a class="headerlink" href="#step-1-create-a-credential" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">In the Ansible web UI, navigate to the <code class="docutils literal notranslate"><span class="pre">Credentials</span></code> section using
the left navigation bar.</p>
</li>
<li><p class="first">Click on the green <img alt="templates link" src="../../../_images/add.png" /> button to create a new
Credential: <code class="docutils literal notranslate"><span class="pre">Workshop</span> <span class="pre">Credential</span></code></p>
</li>
<li><p class="first">Fill out the credential parameters as follows, and click <code class="docutils literal notranslate"><span class="pre">Save</span></code></p>
<table border="1" class="docutils">
<colgroup>
<col width="41%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Name</td>
<td><code class="docutils literal notranslate"><span class="pre">Workshop</span> <span class="pre">Credential</span></code></td>
</tr>
<tr class="row-odd"><td>Credential type:</td>
<td><code class="docutils literal notranslate"><span class="pre">Network</span></code></td>
</tr>
<tr class="row-even"><td>Username</td>
<td><code class="docutils literal notranslate"><span class="pre">admin</span></code></td>
</tr>
<tr class="row-odd"><td>Password</td>
<td><code class="docutils literal notranslate"><span class="pre">ansible</span></code></td>
</tr>
</tbody>
</table>
</li>
</ol>
<blockquote>
<div>Note: double check BIG-IP password provided by instructor defaults to
ansible</div></blockquote>
<div class="figure" id="id1">
<img alt="workshop credential link" src="../../../_images/ws_credential.png" />
<p class="caption"><span class="caption-text">workshop credential link</span></p>
</div>
</div>
<div class="section" id="step-2-migrate-an-inventory">
<h3>Step 2: Migrate an Inventory<a class="headerlink" href="#step-2-migrate-an-inventory" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><strong>Note:</strong> Here we just showcase one way to migrate an inventory file
from the Ansible Tower control node (awx-manage)</div></blockquote>
<ol class="arabic">
<li><p class="first">In the Ansible web UI, navigate to the <code class="docutils literal notranslate"><span class="pre">Inventories</span></code> section using
the left navigation bar.</p>
</li>
<li><p class="first">Click on the green <img alt="templates link" src="../../../_images/add.png" /> button to create an empty
inventory <code class="docutils literal notranslate"><span class="pre">Workshop</span> <span class="pre">Inventory</span></code>.</p>
</li>
<li><p class="first">Login via SSH to your Ansible Tower control node (This is the Linux
machine that has Ansible Tower installed on). The SSH credentials
needed again here.</p>
</li>
<li><p class="first">Locate the flat-file that represents your Ansible inventory. Run the
awx-manage inventory_import command like this</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">networking</span><span class="o">-</span><span class="n">workshop</span><span class="o">/</span><span class="n">lab_inventory</span><span class="o">/</span>
<span class="n">sudo</span> <span class="n">awx</span><span class="o">-</span><span class="n">manage</span> <span class="n">inventory_import</span> <span class="o">--</span><span class="n">source</span><span class="o">=</span><span class="n">hosts</span> <span class="o">--</span><span class="n">inventory</span><span class="o">-</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Workshop Inventory&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">Now when you login via the WebUI you will see all the hosts under the
inventory <code class="docutils literal notranslate"><span class="pre">Workshop</span> <span class="pre">Inventory</span></code> <img alt="workshop inventory link" src="../../../_images/workshop_inventory1.png" /></p>
</li>
<li><p class="first">In your newly imported inventory, click on the button labeled
<code class="docutils literal notranslate"><span class="pre">GROUPS</span></code>. <img alt="workshop inventory group link" src="../../../_images/workshop_inventory_group1.png" /></p>
</li>
<li><p class="first">Click on the Group <code class="docutils literal notranslate"><span class="pre">lb</span></code>, and then click on the button labeled
<code class="docutils literal notranslate"><span class="pre">HOSTS</span></code>, you will see the host <code class="docutils literal notranslate"><span class="pre">f5</span></code>. The BIG-IP host <code class="docutils literal notranslate"><span class="pre">f5</span></code> in
the inventory will have variables assigned to it with the respective
values. Our playbook will refer to these inventory variables later in
the lab. <img alt="host link" src="../../../_images/host.png" /></p>
</li>
<li><div class="first line-block">
<div class="line">Click on <code class="docutils literal notranslate"><span class="pre">Workshop</span> <span class="pre">Inventory</span></code> on the top to return to inventory</div>
<div class="line">then click on the button labeled <code class="docutils literal notranslate"><span class="pre">GROUPS</span></code>.</div>
<div class="line">Click on the Group <code class="docutils literal notranslate"><span class="pre">webservers</span></code>, and then click on the button
labeled <code class="docutils literal notranslate"><span class="pre">Hosts</span></code>. You will see two hosts: <code class="docutils literal notranslate"><span class="pre">host1</span></code> and <code class="docutils literal notranslate"><span class="pre">host2</span></code>.</div>
<div class="line">Click on <code class="docutils literal notranslate"><span class="pre">host1</span></code>, and you will see the variables assigned to it
with the respective values. <img alt="host link" src="../../../_images/host.png" /></div>
</div>
</li>
</ol>
</div>
<div class="section" id="step-3-create-a-project">
<h3>Step 3: Create a Project<a class="headerlink" href="#step-3-create-a-project" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">In the Ansible web UI, navigate to the <code class="docutils literal notranslate"><span class="pre">Projects</span></code> section using the
left navigation bar.</p>
</li>
<li><p class="first">Click on the green <img alt="templates link" src="../../../_images/add.png" /> button to create a new project</p>
</li>
<li><p class="first">Fill out the project parameters as follows, and click <code class="docutils literal notranslate"><span class="pre">Save</span></code></p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Name</td>
<td>Workshop Project</td>
</tr>
<tr class="row-odd"><td>SCM Type</td>
<td>Git</td>
</tr>
<tr class="row-even"><td>SCM URL</td>
<td>h
ttps://github.com/f5devcentral/an
sible-tower-workshop-examples.git</td>
</tr>
<tr class="row-odd"><td>Update Revision on Launch</td>
<td>✓</td>
</tr>
</tbody>
</table>
</li>
</ol>
<div class="figure" id="id2">
<img alt="workshop_project link" src="../../../_images/workshop_project.png" />
<p class="caption"><span class="caption-text">workshop_project link</span></p>
</div>
<p>All the playbooks are availabe at
<a class="reference external" href="https://github.com/f5devcentral/ansible-tower-workshop-examples">https://github.com/f5devcentral/ansible-tower-workshop-examples</a>, and you
may take a look at what’s behind each playbook.</p>
<p>For reference, here is one of the playbooks that was imported and will
be executed later in this lab.</p>
<p><strong>``create_vs.yml``</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">BIG-IP SETUP</span>
  <span class="nt">hosts</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">lb</span>
  <span class="nt">connection</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">local</span>
  <span class="nt">gather_facts</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>

  <span class="nt">tasks</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Setting up provider values</span>
      <span class="nt">set_fact</span><span class="p">:</span>
       <span class="nt">provider</span><span class="p">:</span>
        <span class="nt">server</span><span class="p">:</span> <span class="s">&quot;{{private_ip}}&quot;</span>
        <span class="nt">server_port</span><span class="p">:</span> <span class="s">&quot;8443&quot;</span>
        <span class="nt">validate_certs</span><span class="p">:</span> <span class="s">&quot;False&quot;</span>

    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">CREATE NODES</span>
      <span class="nt">bigip_node</span><span class="p">:</span>
        <span class="nt">provider</span><span class="p">:</span> <span class="s">&quot;{{provider}}&quot;</span>
        <span class="nt">host</span><span class="p">:</span> <span class="s">&quot;{{hostvars[item].ansible_host}}&quot;</span>
        <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;{{hostvars[item].inventory_hostname}}&quot;</span>
      <span class="nt">loop</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">groups[&#39;webservers&#39;]</span><span class="nv"> </span><span class="s">}}&quot;</span>

    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">CREATE POOL</span>
      <span class="nt">bigip_pool</span><span class="p">:</span>
        <span class="nt">provider</span><span class="p">:</span> <span class="s">&quot;{{provider}}&quot;</span>
        <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;http_pool&quot;</span>
        <span class="nt">lb_method</span><span class="p">:</span> <span class="s">&quot;round-robin&quot;</span>
        <span class="nt">monitors</span><span class="p">:</span> <span class="s">&quot;/Common/http&quot;</span>
        <span class="nt">monitor_type</span><span class="p">:</span> <span class="s">&quot;and_list&quot;</span>

    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ADD POOL MEMBERS</span>
      <span class="nt">bigip_pool_member</span><span class="p">:</span>
        <span class="nt">provider</span><span class="p">:</span> <span class="s">&quot;{{provider}}&quot;</span>
        <span class="nt">state</span><span class="p">:</span> <span class="s">&quot;present&quot;</span>
        <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;{{hostvars[item].inventory_hostname}}&quot;</span>
        <span class="nt">host</span><span class="p">:</span> <span class="s">&quot;{{hostvars[item].ansible_host}}&quot;</span>
        <span class="nt">port</span><span class="p">:</span> <span class="s">&quot;80&quot;</span>
        <span class="nt">pool</span><span class="p">:</span> <span class="s">&quot;http_pool&quot;</span>
      <span class="nt">loop</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">groups[&#39;webservers&#39;]</span><span class="nv"> </span><span class="s">}}&quot;</span>

    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ADD VIRTUAL SERVER</span>
      <span class="nt">bigip_virtual_server</span><span class="p">:</span>
        <span class="nt">provider</span><span class="p">:</span> <span class="s">&quot;{{provider}}&quot;</span>
        <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;vip&quot;</span>
        <span class="nt">destination</span><span class="p">:</span> <span class="s">&quot;{{private_ip}}&quot;</span>
        <span class="nt">port</span><span class="p">:</span> <span class="s">&quot;443&quot;</span>
        <span class="nt">enabled_vlans</span><span class="p">:</span> <span class="s">&quot;all&quot;</span>
        <span class="nt">all_profiles</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;http&#39;</span><span class="p p-Indicator">,</span><span class="s">&#39;clientssl&#39;</span><span class="p p-Indicator">,</span><span class="s">&#39;oneconnect&#39;</span><span class="p p-Indicator">]</span>
        <span class="nt">pool</span><span class="p">:</span> <span class="s">&quot;http_pool&quot;</span>
        <span class="nt">snat</span><span class="p">:</span> <span class="s">&quot;Automap&quot;</span>

    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PRINT OUT WEB VIP FOR F5</span>
      <span class="nt">debug</span><span class="p">:</span>
        <span class="nt">msg</span><span class="p">:</span> <span class="s">&quot;The</span><span class="nv"> </span><span class="s">VIP</span><span class="nv"> </span><span class="s">(Virtual</span><span class="nv"> </span><span class="s">IP)</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">https://{{ansible_host}}&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="step-4-create-a-job-template">
<h3>Step 4: Create a Job Template<a class="headerlink" href="#step-4-create-a-job-template" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Open the web UI and click on the <code class="docutils literal notranslate"><span class="pre">Templates</span></code> link on the left menu.</p>
<div class="figure" id="id3">
<img alt="templates link" src="../../../_images/templates.png" />
<p class="caption"><span class="caption-text">templates link</span></p>
</div>
</li>
<li><p class="first">Click on the green <img alt="templates link" src="../../../_images/add.png" /> button to create a new job
template</p>
<blockquote>
<div><p>Make sure to select <strong>``Job Template``</strong> and not
<strong>``Workflow Template``</strong></p>
</div></blockquote>
</li>
<li><p class="first">Fill out the job template parameters as follows:</p>
<table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Name</td>
<td>create_vs</td>
</tr>
<tr class="row-odd"><td>Job Type</td>
<td>Run</td>
</tr>
<tr class="row-even"><td>Inventory</td>
<td>Workshop Inventory</td>
</tr>
<tr class="row-odd"><td>Project</td>
<td>Workshop Project</td>
</tr>
<tr class="row-even"><td>Playbook</td>
<td>create_vs.yml</td>
</tr>
<tr class="row-odd"><td>Credential</td>
<td>Workshop Credential</td>
</tr>
</tbody>
</table>
<p>From the <strong>CREDENTIAL TYPE</strong> select <code class="docutils literal notranslate"><span class="pre">Network</span></code>, then seletct
<code class="docutils literal notranslate"><span class="pre">Workshop</span> <span class="pre">Credential</span></code>: <img alt="network credential" src="../../../_images/network.png" /></p>
<p>Here is a screenshot of the job template with parameters filled out:</p>
<div class="figure" id="id4">
<img alt="create_vs job template" src="../../../_images/create_vs.png" />
<p class="caption"><span class="caption-text">create_vs job template</span></p>
</div>
</li>
<li><p class="first">Scroll down and click the green <code class="docutils literal notranslate"><span class="pre">save</span></code> button.</p>
</li>
</ol>
</div>
<div class="section" id="step-5-launch-the-job-template">
<h3>Step 5: Launch the Job Template<a class="headerlink" href="#step-5-launch-the-job-template" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Navigate back to the <code class="docutils literal notranslate"><span class="pre">Templates</span></code> window, where all Job Templates
are listed.</p>
</li>
<li><p class="first">Launch the <code class="docutils literal notranslate"><span class="pre">create_vs</span></code> Job Template by clicking the Rocket button.</p>
<div class="figure" id="id5">
<img alt="rocket button" src="../../../_images/rocket.png" />
<p class="caption"><span class="caption-text">rocket button</span></p>
</div>
<p>When the rocket button is clicked this will launch the job. The job
will open in a new window called the <strong>Job Details View</strong>. More info
about <a class="reference external" href="https://docs.ansible.com/ansible-tower/latest/html/userguide/jobs.html">Tower
Jobs</a>
can be found in the documentation.</p>
</li>
</ol>
</div>
<div class="section" id="step-6-examine-the-job-details-view">
<h3>Step 6: Examine the Job Details View<a class="headerlink" href="#step-6-examine-the-job-details-view" title="Permalink to this headline">¶</a></h3>
<p>On the left side there is a <strong>DETAILS</strong> pane, on the right side there is
the <strong>Standard Out pane</strong>.</p>
<div class="figure" id="id6">
<img alt="job details view" src="../../../_images/job_create_vs.png" />
<p class="caption"><span class="caption-text">job details view</span></p>
</div>
<ol class="arabic">
<li><p class="first">Examine the <strong>Details pane</strong></p>
<p>The <strong>Details pane</strong> will provide information such as the timestamp
for when the job started and finished, the job type (Check or Run),
the user that launched the job, which Project and Ansible Playbook
were used and more.</p>
<p>If the Job has not finished yet, the <strong>Details Pane</strong> will have a
cancel button <img alt="cancel button" src="../../../_images/cancel.png" /> that can be used to stop the Job.</p>
</li>
<li><p class="first">Examine the <strong>Standard Out pane</strong></p>
<p>The <strong>Standard Out pane</strong> will display the output from the Ansible
Playbook. Every task output will match exactly what would be seen on
the command line.</p>
</li>
<li><p class="first">Click on the <strong>Expand Output</strong> button <img alt="expand image" src="../../../_images/expand.png" /></p>
<p>This will expand the <strong>Standard Out pane</strong> to take the entirety of
the window.</p>
</li>
<li><p class="first">Click on a task in the <strong>Standard Out pane</strong> to open up structured
output from that particular task.</p>
<blockquote>
<div><p>Click on any line where there is a <strong>changed</strong> or <strong>ok</strong></p>
</div></blockquote>
<div class="figure" id="id7">
<img alt="task details window" src="../../../_images/task_details.png" />
<p class="caption"><span class="caption-text">task details window</span></p>
</div>
</li>
</ol>
</div>
<div class="section" id="step-7-examine-the-jobs-window">
<h3>Step 7: Examine the Jobs window<a class="headerlink" href="#step-7-examine-the-jobs-window" title="Permalink to this headline">¶</a></h3>
<p>Any <strong>Job Template</strong> that has been run or is currently running will show
up under the <strong>Views -&gt; Jobs</strong> window.</p>
<ol class="arabic">
<li><p class="first">Click the Jobs button the left menu.</p>
<div class="figure" id="id8">
<img alt="jobs button" src="../../../_images/jobs.png" />
<p class="caption"><span class="caption-text">jobs button</span></p>
</div>
<p>The Jobs link displays a list of jobs and their status–shown as
completed successfully or failed, or as an active (running) job.
Actions you can take from this screen include viewing the details and
standard output of a particular job, relaunch jobs, or remove jobs.</p>
</li>
<li><p class="first">Click on the <strong>``create_vs``</strong> Job</p>
<div class="figure" id="id9">
<img alt="jobs link" src="../../../_images/jobslink.png" />
<p class="caption"><span class="caption-text">jobs link</span></p>
</div>
<p>The <strong>``create_vs``</strong> job was the most recent (unless you have been
launching more jobs). Click on this job to return to the <strong>Job
Details View</strong>. Ansible Tower will save the history of every job
launched.</p>
</li>
</ol>
</div>
<div class="section" id="step-8-verify-the-big-ip-virtual-server-was-created">
<h3>Step 8: Verify the BIG-IP Virtual Server was created<a class="headerlink" href="#step-8-verify-the-big-ip-virtual-server-was-created" title="Permalink to this headline">¶</a></h3>
<p>Login to the F5 BIG-IP with your web browser to see what was configured.
Login information for the BIG-IP:</p>
<ul class="simple">
<li>username: admin</li>
<li>password: provided by instructor defaults to ansible</li>
</ul>
<p>The load balancer virtual server can be found by navigating the menu on
the left. Click on <strong>Local Traffic</strong>. then click on <strong>Virtual Servers</strong>.
See the screenshot below: <img alt="vip link" src="../../../_images/vip.png" /></p>
</div>
<div class="section" id="step-9-verifying-the-web-servers">
<h3>Step 9: Verifying the web servers<a class="headerlink" href="#step-9-verifying-the-web-servers" title="Permalink to this headline">¶</a></h3>
<p>Each of the two RHEL web servers actually already has apache running.
Open up the public IP of the F5 load balancer in your web browser:</p>
<blockquote>
<div>This time use port 443 instead of 8443, e.g.&nbsp;<a class="reference external" href="https://X.X.X.X:443/">https://X.X.X.X:443/</a></div></blockquote>
<p>Each time you refresh, BIG-IP will load balance the traffic between
<strong>host1</strong> and <strong>host2</strong>, as shown below: <img alt="host1 link" src="../../../_images/host1.png" /> <img alt="host2 link" src="../../../_images/host2.png" /></p>
</div>
</div>
<div class="section" id="takeaways">
<h2>Takeaways<a class="headerlink" href="#takeaways" title="Permalink to this headline">¶</a></h2>
<p>You have successfully demonstrated - Creating a Job Template to deploy a
Virtual Server - Launching a Job Template from the Ansible Tower UI -
Verifying the Virtual Server is correctly created - Veryfying the web
server is up and running</p>
</div>
<hr class="docutils" />
<div class="section" id="complete">
<h2>Complete<a class="headerlink" href="#complete" title="Permalink to this headline">¶</a></h2>
<p>You have completed lab exercise 4.1</p>
<p><a class="reference external" href="..">Click here to return to the Ansible Network Automation
Workshop</a></p>
</div>
</div>


     </div>
    
     <div class="row next-prev-btn-row">
       <div class="col-lg-12">
       
        <a href="../4.0-explore-tower/4.0-explore-tower.html" title="Exercise 4.0: Explore Red Hat Ansible Tower" accesskey="p" class="btn btn-primary left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
       
       
          <a href="../4.2-tower-workflow/4.2-tower-workflow.html" title="Exercise 4.2: Creating a Workflow" accesskey="n" class="btn btn-primary right">Next <i class="fa fa-arrow-circle-right" aria-hidden="true"></i></a>
       
     </div>
     </div>
    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../../../_static/js/index.js"></script>
  <script src="../../../_static/js/jquery.appear.js"></script>
  <script src="../../../_static/js/printThis.js"></script>
  <script src="../../../_static/js/bootstrap.min.js"></script>
  <script src="../../../_static/js/clouddocs.js"></script>
  <script src="../../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
  </body>
</html>